# Python中的正则表达式及JSON

正则表达式:
概念:是一个特殊的字符序列,一个字符串是否与我们所设定的这样的字符序列相匹配
作用:1)快速检索文本,2)实现一些替换文本的操作

index()函数:可以用于判断某个字符串是都包含index后面的函数,若大于-1,则代表包含

in函数也可以判断

通过导入re包,通过re.findall(‘正则表达式’,字符串)
例: a = c/c++/python
则判断c++是否在a中,可以写为:r = re.findall(‘c++’,a)
打印r值,r是一个列表
当r的长度大于0,及len(r) > 0,则a中是包含c++的

正则表达式\d可以表示0-9的数字
普通字符:’c++’这种即为普通字符
元字符:’\d’即为元字符,代表数字
	   ‘\D’代表非数字

a[cf]c,这个即是普通字符与元字符的定界,意义上匹配所有首字母为a,尾字母为f,中间为c或f的字符串
a[^cf]c, 这个即是普通字符与元字符的定界,意义上匹配所有首字母为a,尾字母为f,中间不为c或f的字符串,^即为取反的操作
a[c-f]c,这个即是普通字符与元字符的定界,意义上匹配所有首字母为a,尾字母为f,中间为c到f的字符串,即匹配字符含acc,adc,aec,afc

字符集的特性: 中括号([])中的字符是或的关系
字符集或概括字符集只能匹配单一的字母(字符)

\w:只能匹配数字或者字母或者下划线(单词字符) 即[A-Za-z0-9_]
\W:只能匹配非单词字符
注意:空格,回车等都属于非单词字符

\s :匹配空白字符(空格/回车/制表符等)
\S:匹配非空白字符

. :标示除换行符\n之外的其他所有字符

数量词:{n}中的数字代表n个字符一组
数量词也是支持多少到多少,中间用逗号隔开,{3,6}标示3个到6个字符一组
*:标示匹配*前面的字符0次或者无限多次
+:标示匹配+前面的字符1次或者无限多次
?:标示匹配?前面的字符0次或者1次

贪婪与非贪婪:
贪婪:尽可能多的匹配到数量词规定的最大字符数量
非贪婪:在数量词后面加上?,即[a-z]{3,6}?

注:有关?: 当作为数量词?,前面为一个固定的普通字符
                当作为数量词后,即为非贪婪,

边界匹配符:在表达式首部加上^,在尾部加上$,即匹配完整的字符串,^标示从头开始匹配,$标示从尾部开始匹配


组:使用括号将一个字符组合起来:(python){3},表示查找pythonpythonpython
[]中的每个字符是或的关系,()中的每个字符是且的关系

![1-1](Snip20180306_37.png)<\br>
￼上图中,str1的结果为AC,str2的结果为将ACACAC替换为NB

匹配模式参数:在re.findall中第三个参数即为匹配模式参数,
当设置为re.I时,忽略匹配字符的大小写
当设置为re.S时,则字符集中的.标示包含\n在内的任意字符
实际用例:re.findall(‘abc.{1}’,str1,re.S)标示查找abc外加任意一个字符(类似数据库查找)

匹配模式多个时,采取|来进行并列,标示的是且关系

re.findall查找字符串
re.sub将字符串进行替换,简化版即为replace函数
re.sub参数含义:第4个参数:匹配之后能被替换的最大次数,默认为0,即无限匹配下去

re.sub中第2个参数,即替换为的字符串参数可以是函数,含义是,会将language中的C#传入函数中作为参数,后将函数的返回值用于替换language中的c#
￼
其中value是一个对象,通过value.group()获取替换的字符串
作用是对不同匹配的结果做不同的操作
注:通过函数返回的也必须是字符串类型,因为sub函数接受的是字符串

match函数:尝试从字符串的首字母进行匹配,若无结果,则会返回空
search函数:尝试搜索整个字符串,并将第一个结果返回
match和search返回的是个对象
注:除了对象调用group函数获取值之外,还能使用span函数获取对象在字符串中的位置
二者共同点:当找到满足要求的字符串时,立刻停止匹配
推荐使用findall进行查找匹配操作

注:不能对None调用group函数
group函数的group(0)永远记录一个表达式的完整匹配结果
￼
结果为 is short,i use python 

可以这样使用
￼

可以使用groups()函数,直接会过滤group(0)的情况

注:要求例如’123AAAA456’,想获取123和456中间的全部内容,可以使用’123(.*)456’来获取
默认任何一个字符串外边都有一个圆括号,将其所有的字符串变为一个组,即(123AAAA456)

JSON:是一种轻量级的数据交换格式
字符串时JSON的表现形式
符合JSON格式的字符串叫做JSON字符串,是JSON的载体

导入json 通过json.loads函数可以解析JSON,json对象返回结果是个字典,json数组返回的结果是个列表
注:JSON的对应不能使用单引号,只能使用双引号

将json字符串转换成某种语言的数据结构,称之为反序列化

python与JSON的类型转化对应关系
￼

json.dumps()方法进行json的序列化操作


